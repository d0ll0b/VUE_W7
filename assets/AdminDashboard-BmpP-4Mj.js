import{_ as h,g as _,o as m,c as p,a as o,d as e,w as n,b as i,e as A,r as c}from"./index-B1NfhtV5.js";import{A as g}from"./AlertMessages-BqGxdeYZ.js";var k={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"dollob_api",BASE_URL:"/VUE_W7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:d}=k,x={data(){return{isLogin:!1}},components:{AlertMessages:g},methods:{checkAdmin(){const t=`${d}/api/user/check`;_.post(t).then(s=>{this.isLogin=!0}).catch(s=>{this.$refs.AlertMessages.show_alert(s==null?void 0:s.response.data.message,1300,"error"),this.$router.push("/login")})},signout(){const t=`${d}/logout`;_.post(t).then(s=>{document.cookie="hexToken=;expires=;path=/",this.$refs.AlertMessages.show_toast("已成功登出~~"),this.$router.push("/login")}).catch(s=>{this.$refs.AlertMessages.show_alert(s==null?void 0:s.response.data.message,1300,"error"),this.$router.push("/login")})}},created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=t,this.checkAdmin()}},w={class:"nav sidebar position-fixed flex-column h-100 bg-black text-white fw-bold px-2 overflow-hidden"},b=e("li",{class:"nav-item mt-4"},[e("h1",null,"好不幸福早餐店")],-1),P={class:"nav-item mt-4"},E={class:"nav-item mt-4"},M={class:"nav-item mt-4"},V={class:"nav-item mt-4"},L={class:"nav-item mt-4"};function N(t,s,u,f,v,r){const l=c("alert-messages"),a=c("RouterLink");return m(),p("ul",w,[o(l,{ref:"AlertMessages"},null,512),b,e("li",P,[o(a,{to:"/",class:"nav-link h4"},{default:n(()=>[i("返回前台")]),_:1})]),e("li",E,[o(a,{to:"/admin/products",class:"nav-link h4"},{default:n(()=>[i("產品列表")]),_:1})]),e("li",M,[o(a,{to:"/admin/orders",class:"nav-link h4"},{default:n(()=>[i("訂單列表")]),_:1})]),e("li",V,[o(a,{to:"/admin/Coupons",class:"nav-link h4"},{default:n(()=>[i("優惠卷列表")]),_:1})]),e("li",L,[e("a",{href:"#",class:"nav-link h4",onClick:s[0]||(s[0]=A((...$)=>r.signout&&r.signout(...$),["prevent"]))},"登出")])])}const R=h(x,[["render",N]]),I={components:{AdminNavbar:R}},T={class:"container-fluid ps-0"},U={class:"row"},B={class:"col-2"},C={class:"col-10"};function D(t,s,u,f,v,r){const l=c("AdminNavbar"),a=c("router-view");return m(),p("div",T,[e("div",U,[e("div",B,[o(l)]),e("div",C,[o(a)])])])}const z=h(I,[["render",D]]);export{z as default};
